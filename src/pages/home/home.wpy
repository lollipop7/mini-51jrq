<style lang='scss'>
.comm-posis-container {
  padding: 0 32rpx;
  .header-container {
    margin: 20rpx 0 30rpx 0; 
    image {
      margin-right: 12rpx;
      width: 28rpx;
      height: 28rpx;
      vertical-align: middle;
    }
    text {
      vertical-align: middle;
      font-size: 28rpx;
      color: #353535;
    }
  }
}
</style>

<template>
  <view>
    <bannersearch></bannersearch>
    <view class="comm-posis-container">
      <view class="header-container">
        <image src="/images/home/comm-posi.png"></image>
        <text>推荐职位</text>
      </view>
      <view class="hot-posis-container">
        <repeat for="{{posiList}}" key="index" index="index" item="item"> 
          <view catchtap="onCommPosiTap">
            <commposi :data.sync="item"></commposi>
          </view>
        </repeat>
      </view>
    </view>
  </view>
</template>

<script>
import wepy from 'wepy';
<<<<<<< HEAD
import BannerSearch from '../../components/bannersearch';
import CommPosi from '../../components/commposi';  
=======
import BannerSearch from '../../components/bannersearch'; 
import CommPosi from '../../components/commposi';
>>>>>>> 1be202015dd3ea17db73c2461fa764136961ba54

const postData = require('../../data/posis-data.js');

export default class HomePage extends wepy.page {
  
  components = {
    bannersearch: BannerSearch,
    commposi: CommPosi 
  }

  data ={
    posiList: []
  }

  async onLoad (options) { 
    this.posiList = postData.posiList;
    // const that = this;
    // wepy.request({
    //     url: 'http://192.168.1.251:8089/mobile/api/hunterjob',
    //     method: 'POST',
    //     data: {
    //         "head": {
    //             "transcode": "L0001",
    //             "type": "h"
    //         },
    //         "data": {
    //         }
    //     },
    //     success:function(res){
    //       that.setData({
    //         posiList: res.data
    //       })
    //     }
    // })  
  }

  onShow(){
        
  }

  methods = {
    // onCommPosiTap: function (event) {
    //   wepy.request({
    //     url: 'http://192.168.1.251:8089/mobile/api/hunterjob',
    //     method: 'POST',
    //     data: {
    //         "head": {
    //             "transcode": "L0001",
    //             "type": "h"
    //         },
    //         "data": {
    //         }
    //     },
    //     success:function(res){
    //       this.setData({
    //         posiList: res.data
    //       })
    //       console.log(res.data)          
    //     }
    //   })
      
    // }
  }
}
</script>